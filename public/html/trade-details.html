<div class="trade-details">

    <div class="title">{{trade.symbol.a}} > {{trade.symbol.b}} > {{trade.symbol.c}} > {{trade.symbol.a}}</div>

    <label>
        Initial Investment (USD)
        <div class="input-group">
            <span class="input-group-addon">$</span>
            <input type="number" class="form-control" ng-model="investment" ng-model-options="{ debounce: 1000 }" ng-change="calculateAndSet(investment, trade)">
        </div>
        <input type="range" min="{{minInvestment}}" max="{{maxInvestment}}" step="{{stepSize}}" ng-model="investment" ng-change="calculateAndSet(investment, trade)">
    </label>

    <div class="details" ng-hide="REFRESHING">
        <div>Start with {{calculated.start.market | number : 6}} {{trade.symbol.a}}</div>
        <div>{{trade.ab.method}} {{calculated.ab.market | number : 6}} ({{calculated.ab.volume * 100 | number : 2}}%) ({{calculated.ab.dust | number : 6}}) <a ng-href="{{generateLink(trade.symbol.a, trade.symbol.b)}}" target="_blank">{{trade.ab.ticker}}</a> to get {{calculated.b | number : 6}} {{trade.symbol.b}}</div>
        <div>{{trade.bc.method}} {{calculated.bc.market | number : 6}} ({{calculated.bc.volume * 100 | number : 2}}%) ({{calculated.bc.dust | number : 6}}) <a ng-href="{{generateLink(trade.symbol.b, trade.symbol.c)}}" target="_blank">{{trade.bc.ticker}}</a> to get {{calculated.c | number : 6}} {{trade.symbol.c}}</div>
        <div>{{trade.ca.method}} {{calculated.ca.market | number : 6}} ({{calculated.ca.volume * 100 | number : 2}}%) ({{calculated.ca.dust | number : 6}}) <a ng-href="{{generateLink(trade.symbol.c, trade.symbol.a)}}" target="_blank">{{trade.ca.ticker}}</a> to get {{calculated.a | number : 6}} {{trade.symbol.a}}</div>
        <div ng-class="{'text-danger': calculated.percent <= 0, 'text-success': calculated.percent > 0}">Profit: {{calculated.percent}}%</div>

        <button type="button" class="btn btn-default" ng-click="optimizeAndSet(trade)">Refresh</button>
        <button type="button" class="btn btn-default" ng-click="execute(trade, calculated)" ng-disabled="!apiKeyPresent()">Execute</button>

        <span ng-show="executionTime">Executed trade in {{executionTime}} milliseconds</span>

    </div>

</div>